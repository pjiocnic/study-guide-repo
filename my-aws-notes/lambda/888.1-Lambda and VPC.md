
To allow Lambda functions to communicate with resources within a VPC (including a Network Load Balancer), you indeed need to configure a VPC interface for your Lambda function. Here's the key information about this: [1]

**1. VPC Interface:**

  * Lambda functions by default run in an AWS-managed VPC and don't have access to resources in your own VPCs. [2]

  * To enable communication with resources in your VPC (like your NLB), you need to configure your Lambda function to use a VPC interface.

**2. How it works:**

  * When you configure a Lambda function with a VPC interface, AWS creates Elastic Network Interfaces (ENIs) in your VPC subnets.

  * These ENIs allow your Lambda function to connect to other resources within your VPC. [3]

**3. Configuration requirements**:

  * You need to specify at least one subnet in your VPC.

  * You must also specify one or more security groups.

**4. Important considerations**:

  * When a Lambda function is configured with a VPC interface, it loses default internet access. If you need internet access, you'll need to configure a NAT gateway or use VPC endpoints.

  * There's a slight increase in cold start times for Lambda functions with VPC interfaces.

To configure your Lambda function with a VPC interface, you can do the following:

1. In the AWS Lambda console:

  * Go to your function's configuration.

  * In the "Network" section, choose "VPC".

  * Select your VPC, subnets, and security groups.

2. Using AWS CLI: You can use a command like this:

```bash
aws lambda update-function-configuration \
  --function-name YourFunctionName \
  --vpc-config SubnetIds=subnet-xxxx,subnet-yyyy,SecurityGroupIds=sg-zzzz
```

In AWS CloudFormation: You can specify the VPC configuration in your Lambda function resource:

```yaml
MyLambdaFunction:
  Type: AWS::Lambda::Function
  Properties:
    # ... other properties ...
    VpcConfig:
      SecurityGroupIds:
        - sg-xxxxxxxxxxxxxxxxx
      SubnetIds:
        - subnet-xxxxxxxxxxxxxxxxx
        - subnet-yyyyyyyyyyyyyyyyy
```

After configuring the VPC interface, make sure:

  * The selected subnets can route to the subnets where your NLB is located.

  * The security group allows outbound traffic to the NLB.

  * The NLB's security group allows inbound traffic from the Lambda's security group.

This VPC interface configuration is likely the missing piece that's preventing your Lambda function from communicating with the NLB. Once properly configured, your Lambda should be able to reach the NLB within the VPC network, just as it would reach any other internal resource.

### References

1. [Networking and VPC configurations](https://docs.aws.amazon.com/lambda/latest/operatorguide/networking-vpc.html)
2. [Frequently asked questions](https://docs.aws.amazon.com/lambda/latest/operatorguide/security-ops-faq.html)
3. [Access logs for your Application Load Balancer](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-access-logs.html)