# Helpful functions

1. create JL + JL-SRCE from srce
2. makeActive / makeInactive (takes in JL with JL-SRCE)
3. findLatestActive(srce=AS/ED)
4. isBefore()
5. isAfter()
6. addIfAbsent (DP + ARVL not same)

# Pseudo code

```java
NEW-SRCE = CREATE SRCE + JL-SRCE
IF COLLECTION EMPTY
    NEW-SRCE -> MAKE ACTIVE, ADD

IF (NEW-SRCE == AS)
  LATEST-EXISTING-ED = findLatestActive (srce = ED)
  IF LATEST-EXISTING-ED exists
  THEN
    NEW-SRCE -> MAKE INACTIVE, ADD ONLY IF ABSENT
  ELSE
    LATEST-EXISTING-AS = findLatestActive (srce = AS)
    IF LATEST-EXISTING-AS AFTER NEW-SRCE
      NEW-SRCE -> MAKE INACTIVE, ADD ONLY IF ABSENT
    ELSE
      MAKE LATEST-EXISTING-AS + JL-SRCE INACTIVE,
      NEW-SRCE -> MAKE ACTIVE, ADD ONLY IF ABSENT
ELSE (NEW-SRCE == ED)
  LATEST-EXISTING-AS = findLatestActive (srce = AS)
  IF LATEST-EXISTING-AS exists
  THEN
    MAKE LATEST-EXISTING-AS + JL-SRCE INACTIVE
  FIND LATEST-EXISTING-ED = findLatestActive (srce = ED)
  IF LATEST-EXISTING-ED AFTER NEW-SRCE
    NEW-SRCE -> MAKE INACTIVE, ADD ONLY IF ABSENT
  ELSE LATEST-EXISTING-ED BEFORE NEW-SRCE
    MAKE LATEST-EXISTING-ED + JL-SRCE INACTIVE
    NEW-SRCE-> MAKE ACTIVE, ADD ONLY IF ABSENT
```